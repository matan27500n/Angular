<body>
  <h1>{{type}} Company</h1>
  <br><br>

  <p>
    <mat-form-field appearance="legacy">
      <mat-label>Name</mat-label>
      <input #company_name="ngModel" pattern="^[A-Z].*" required matInput placeholder="Name" minlength="2"
        [(ngModel)]="company.name" ngDefaultControl [disabled]="type==='Update'">
      <mat-icon matSuffix
        *ngIf="!company_name.errors?.required  && !company_name.errors?.minlength && !company_name.errors?.pattern">
        sentiment_very_satisfied</mat-icon>
      <mat-hint class="icon2" *ngIf="company_name.errors?.required">Empty name</mat-hint>
      <mat-hint class="icon2" *ngIf="company_name.errors?.minlength">Short name - must be at least 2 characters
      </mat-hint>
      <mat-hint class="icon2" *ngIf="company_name.errors?.pattern"> not valid</mat-hint>
    </mat-form-field>
  </p>

  <p>
    <mat-form-field appearance="legacy">
      <mat-label>Email</mat-label>
      <input #company_email="ngModel" matInput placeholder="Email" pattern="^[\w.+\-]+@gmail\.com$"
        [(ngModel)]="company.email" required ngDefaultControl>
      <mat-icon matSuffix *ngIf="!company_email.errors?.required && !company_email.errors?.pattern">
        sentiment_very_satisfied</mat-icon>
      <mat-hint class="icon2" *ngIf="company_email.errors?.required">Empty email</mat-hint>
      <mat-hint class="icon2" *ngIf="company_email.errors?.pattern">Invalid email</mat-hint>
    </mat-form-field>
  </p>

  <p>
    <mat-form-field appearance="legacy">
      <mat-label>Password</mat-label>
      <input #company_password="ngModel" matInput placeholder="Password" [(ngModel)]="company.password" required
        minlength="4" ngDefaultControl>
      <mat-icon matSuffix *ngIf="!company_password.errors?.required && !company_password.errors?.minlength">
        sentiment_very_satisfied</mat-icon>
      <mat-hint class="icon2" *ngIf="company_password.errors?.required">Empty password</mat-hint>
      <mat-hint class="icon2" *ngIf="company_password.errors?.minlength">Invalid password-must be at least 4 letters
      </mat-hint>
    </mat-form-field>
  </p>

  <p>
    <button
      [disabled]="company_password.errors?.required || company_password.errors?.minlength || company_email.errors?.required || company_email.errors?.pattern || company_name.errors?.required || company_name.errors?.minlength && company_name.errors?.pattern"
      (click)="addOrUpdateCompany()" mat-raised-button color="primary">{{type}}</button>
  </p>
</body>
